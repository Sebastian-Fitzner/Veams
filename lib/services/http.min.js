!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("services/http",[],e):"object"==typeof exports?exports["services/http"]=e():(t["services/http"]=t["services/http"]||{},t["services/http"]["services/http"]=e())}(this,function(){return function(t){function e(o){if(s[o])return s[o].exports;var i=s[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,s,o){return s&&t(e.prototype,s),o&&t(e,o),e}}();window.Promise||console.error("Veams-Http :: You should add a lightweight promise library like promise-polyfill!");var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t);var o={url:!1,type:"text",method:"GET",fetchOnInit:!1};this.options=Veams.helpers.defaults(e,o),this.data={},this.initialize()}return o(t,[{key:"initialize",value:function(){if(this.options.fetchOnInit)return this.promiseRequest()}},{key:"promiseRequest",value:function(t){var e=this;return t&&(this.options.method=t.method||this.options.method,this.options.url=t.url||this.options.url,this.options.type=t.type||this.options.type),new Promise(function(t,s){var o=new XMLHttpRequest;o.open(e.options.method,e.options.url,!0),o.onload=function(){o.status>=200&&o.status<400?t(e.parser({request:o,type:e.options.type})):s({status:o.status,statusText:o.statusText})},o.onerror=function(){s({status:o.status,statusText:o.statusText})},o.send()})}},{key:"get",value:function(t){return t&&(this.options.method="GET",this.options.url=t.url||this.options.url,this.options.type=t.type||this.options.type),this.promiseRequest()}},{key:"post",value:function(t){return t&&(this.options.method="POST",this.options.url=t.url||this.options.url,this.options.type=t.type||this.options.type),this.promiseRequest()}},{key:"parser",value:function(t){return this.data=t.request.responseText,"json"===t.type&&(this.data=JSON.parse(this.data)),this.data}}]),t}();e["default"]=i,t.exports=e["default"]}])});
//# sourceMappingURL=http.min.js.map