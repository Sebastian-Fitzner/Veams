!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("services/http",[],e):"object"==typeof exports?exports["services/http"]=e():(t["services/http"]=t["services/http"]||{},t["services/http"]["services/http"]=e())}(this,function(){return function(t){function e(i){if(s[i])return s[i].exports;var n=s[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}();window.Promise||console.error("Veams-Http :: You should add a lightweight promise library like promise-polyfill!");var n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t);var i={url:!1,type:"text",method:"GET",fetchOnInit:!1};this.options=Veams.helpers.extend(i,e),this.data={},this.initialize()}return i(t,[{key:"initialize",value:function(){if(this.options.fetchOnInit)return this.promiseRequest()}},{key:"requestWillOpen",value:function(t,e){}},{key:"requestDidOpen",value:function(t,e){}},{key:"requestWillLoad",value:function(t,e){}},{key:"requestDidLoad",value:function(t,e){}},{key:"requestWillSend",value:function(t,e){}},{key:"requestDidSend",value:function(t,e){}},{key:"promiseRequest",value:function(t){var e=this;return new Promise(function(s,i){var n=new XMLHttpRequest;e.requestWillOpen(n,t),n.open(t.method,t.url,!0),e.requestDidOpen(n,t),e.requestWillLoad(n,t),n.onload=function(){n.status>=200&&n.status<400?(s(e.parser({request:n,type:t.type})),e.requestDidLoad(n,t)):(i({status:n.status,statusText:n.statusText}),e.requestDidLoad(n,t))},n.onerror=function(){i({status:n.status,statusText:n.statusText})},e.requestWillSend(n,t),n.send(t.data),e.requestDidSend(n,t)})}},{key:"get",value:function(t){var e={};return e.data=t.data?t.data:null,t&&(this.options.method=e.method="GET",this.options.url=e.url=t.url||this.options.url,this.options.type=e.type=t.type||this.options.type),this.promiseRequest(e)}},{key:"post",value:function(t){var e={};return e.data=t.data?t.data:null,t&&(this.options.method=e.method="POST",this.options.url=e.url=t.url||this.options.url,this.options.type=e.type=t.type||this.options.type),this.promiseRequest(e)}},{key:"parser",value:function(t){return this.data=t.request.responseText,"json"===t.type&&(this.data=JSON.parse(this.data)),this.data}}]),t}();e["default"]=n,t.exports=e["default"]}])});
//# sourceMappingURL=http.min.js.map