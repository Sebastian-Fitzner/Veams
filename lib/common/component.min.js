!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("common/component",[],t):"object"==typeof exports?exports["common/component"]=t():(e["common/component"]=e["common/component"]||{},e["common/component"]["common/component"]=t())}(this,function(){return function(e){function t(s){if(n[s])return n[s].exports;var i=n[s]={exports:{},id:s,loaded:!1};return e[s].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),o=n(1),a=s(o),u=n(2),c=s(u),l=n(3),f=s(l);if(!window.Veams)throw new Error("Please initialize Veams!");if(!window.Veams.helpers.mixin||!window.Veams.helpers.defaults)throw new Error("The mixin or defaults helper is missing!");window.Veams.$||console.info("Please add a Dom handler like jQuery to the window object!");var h=window.Veams.$,p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.el=t.el,this.options=n,this.namespace=null,this.evtNamespace="."+this.metaData.name,this._options=t.options,window.Veams.$&&(this.$el=h(t.el)),t.namespace?this.namespace=t.namespace:console.log("You should pass an object with a namespace for your component!"),this.initialize(t,n),this._create(),window.Veams.modules&&null!==this.namespace&&Veams.modules.save(Veams.helpers.defaults(this.info||{},this.metaData),this.el)}return r(e,[{key:"_create",value:function(){this.preRender(),this.registerEvents(this.events,!1),this.registerEvents(this.subscribe,!0),this.bindEvents()}},{key:"initialize",value:function(){return this}},{key:"destroy",value:function(){this.unbindEvents(),this.$el.remove()}},{key:"registerEvents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&Object.keys(e).forEach(function(s){t.registerEvent(s,e[s],n)})}},{key:"registerEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e.split(" "),i=s.length,r=c["default"].apply(this,[(0,f["default"])(s[0])]),o=this[t].bind(this),a=r+t;if(i>2)throw new Error("It seems like you have more than two strings in your events object!");if(1!==i||n)if(1===i&&n)this.subscribers={id:a,event:r,handler:o},Veams.Vent.on(r,o);else{var u=c["default"].apply(this,[(0,f["default"])(s[1])]);this.$el.on(r+this.evtNamespace,u,o)}else this.$el.on(r+this.evtNamespace,o)}},{key:"bindEvents",value:function(){}},{key:"unbindEvents",value:function(){this.$el.off(this.evtNamespace);for(var e in this.subscribers)if(this.subscribers.hasOwnProperty(e)){var t=this.subscribers[e];Veams.Vent.off(t.event,t.handler)}}},{key:"preRender",value:function(){return this}},{key:"renderTemplate",value:function(e,t){return window[this.options.namespace].Templates&&window[this.options.namespace].Templates[e]?window[this.options.namespace].Templates[e](t):void console.error("It seems that you haven't defined any template "+e+" yet!")}},{key:"render",value:function(){return this}},{key:"_options",get:function(){return this.options},set:function(e){this.options=Veams.helpers.defaults(e||{},this.options)}},{key:"metaData",get:function(){return{name:"string"==typeof this.namespace?a["default"].capitalizeFirstLetter(a["default"].toCamelCase(this.namespace)):""}}},{key:"events",set:function(e){this._events=e},get:function(){return this._events}},{key:"subscribe",set:function(e){this._subscribe=e},get:function(){return this._subscribe}},{key:"subscribers",set:function(e){this._subscribers||(this._subscribers={}),this._subscribers[e.id]={event:e.event,handler:e.handler}},get:function(){return this._subscribers}}]),e}();p.mixin=Veams.helpers.mixin,t["default"]=p,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};n.toCamelCase=function(e){return e.toLowerCase().replace(/[-_]+/g," ").replace(/[^\w\s]/g,"").replace(/ (.)/g,function(e){return e.toUpperCase()}).replace(/ /g,"")},n.hyphenate=function(e){return e.replace(/\s/g,"-").toLowerCase()},n.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){if(e.indexOf(".")===-1)return e;var t=e.split("."),n=t[0],s="this"===n?this:window[n],i=function(e,t){return t[e]};if(t.shift(),t.forEach(function(e){return s=i(e,s)}),"string"!=typeof s)throw new Error("The resulting variable out of your events object must be a string!");return s};t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=new RegExp("({{s?)(.+)(s?}})"),n=t.exec(e),s="";return s=n?n[2]:e};t["default"]=n,e.exports=t["default"]}])});
//# sourceMappingURL=component.min.js.map