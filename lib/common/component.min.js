!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("common/component",[],t):"object"==typeof exports?exports["common/component"]=t():(e["common/component"]=e["common/component"]||{},e["common/component"]["common/component"]=t())}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var s=n[r]={exports:{},id:r,loaded:!1};return e[r].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return e.join("_")+"_"+t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),u=r(a),l=n(2),c=r(l),f=n(3),d=r(f);if(!Veams)throw new Error("Please initialize Veams!");if(!Veams.helpers.mixin||!Veams.helpers.extend||!Veams.helpers.makeId)throw new Error("The mixin, makeId or extend helper is missing!");Veams.$||console.info("Please add a DOM handler like jQuery to the window object!");var h=Veams.$||window.$,p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e),t.namespace?this.namespace=t.namespace:console.log("You should pass an object with a namespace for your component!"),this.instanceId=this.namespace,this.el=t.el,this.options=n,this.namespace=null,this.evtNamespace="."+this.metaData.name,this._options=t.options,h&&(this.$el=h(t.el)),this.initialize(t,n),this._create()}return o(e,[{key:"_create",value:function(){this.preRender(),this.registerEvents(this.events,!1),this.registerEvents(this.subscribe,!0),this.bindEvents()}},{key:"initialize",value:function(){return this}},{key:"bindEvents",value:function(){}},{key:"unbindEvents",value:function(){}},{key:"preRender",value:function(){return this}},{key:"render",value:function(){return this}},{key:"destroy",value:function(){this.unregisterEvents(),this.unbindEvents(),this.$el.remove()}},{key:"renderTemplate",value:function(e,t){return Veams.templater?Veams.templater.render(e,t):void console.error("It seems that you haven't added the VeamsTemplater plugin. In order to work with 'renderTemplate()' you need to add it!")}},{key:"willMount",value:function(){}},{key:"willUnmount",value:function(){}},{key:"didMount",value:function(){}},{key:"didUnmount",value:function(){}},{key:"registerEvents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&Object.keys(e).forEach(function(r){t.registerEvent(r,e[r],n)})}},{key:"registerEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e)return void console.error("VeamsComponent :: Your event is not a string!");if("string"!=typeof t)return void console.error("VeamsComponent :: Your event handler function is not a string!");var r=e.split(" "),s=r.length,o=u["default"].apply(this,[(0,c["default"])(r[0])]),a=this[t].bind(this),l=i(r,t);if(s>2)throw new Error("It seems like you have more than two strings in your events object!");if(1!==s||n)if(1===s&&n)Veams.Vent.subscribe(o,a),this._subscribers={type:"globalEvent",id:l,event:o,handler:a};else{var f=u["default"].apply(this,[(0,c["default"])(r[1])]);console.log("delegate: ",f),this.$el.on(o,f,a),this._subscribers={type:"delegatedEvent",delegate:f,id:l,event:o,handler:a}}else this.$el.on(o,a),this._subscribers={type:"event",id:l,event:o,handler:a}}},{key:"unregisterEvents",value:function(){for(var e in this._subscribers)if(this._subscribers.hasOwnProperty(e)){var t=this._subscribers[e];"globalEvent"===t.type?Veams.Vent.unsubscribe(t.event,t.handler):"delegatedEvent"===t.type?this.$el.off(t.event,t.delegate,t.handler):this.$el.off(t.event,t.handler)}}},{key:"unregisterEvent",value:function(e,t){var n=e.split(" "),r=i(n,t);if(this._subscribers[r]){var s=this._subscribers[r];"globalEvent"===s.type?Veams.Vent.unsubscribe(s.event,s.handler):"delegatedEvent"===s.type?this.$el.off(s.event,s.delegate,s.handler):this.$el.off(s.event,s.handler)}}},{key:"_options",get:function(){return this.options},set:function(e){this.options=Veams.helpers.extend(this.options,e||{})}},{key:"metaData",get:function(){return{name:"string"==typeof this.namespace?d["default"].capitalizeFirstLetter(d["default"].toCamelCase(this.namespace)):""}}},{key:"instanceId",get:function(){return this._instanceId},set:function(e){this._instanceId=e+"_"+Date.now()+"_"+Veams.helpers.makeId()}},{key:"events",set:function(e){this._events=e},get:function(){return this._events}},{key:"subscribe",set:function(e){this._subscribe=e},get:function(){return this._subscribe}},{key:"_subscribers",set:function(e){this.__subscribers||(this.__subscribers={}),this.__subscribers[e.id]={delegate:e.delegate,type:e.type,event:e.event,handler:e.handler}},get:function(){return this.__subscribers}}]),e}();p.mixin=Veams.helpers.mixin,t["default"]=p,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){if(e.indexOf(".")===-1)return e;var t=e.split("."),n=t[0],r="this"===n?this:window[n],s=function(e,t){return t[e]};if(t.shift(),t.forEach(function(e){return r=s(e,r)}),"string"!=typeof r)throw new Error("The resulting variable out of your events object must be a string!");return r};t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=new RegExp("({{s?)(.+)(s?}})"),n=t.exec(e),r="";return r=n?n[2]:e};t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};n.toCamelCase=function(e){return e.toLowerCase().replace(/[-_]+/g," ").replace(/[^\w\s]/g,"").replace(/ (.)/g,function(e){return e.toUpperCase()}).replace(/ /g,"")},n.hyphenate=function(e){return e.replace(/\s/g,"-").toLowerCase()},n.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t["default"]=n,e.exports=t["default"]}])});
//# sourceMappingURL=component.min.js.map