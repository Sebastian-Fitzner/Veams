!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("services/http",[],e):"object"==typeof exports?exports["services/http"]=e():(t["services/http"]=t["services/http"]||{},t["services/http"]["services/http"]=e())}(this,function(){return function(t){function e(o){if(s[o])return s[o].exports;var i=s[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,s,o){return s&&t(e.prototype,s),o&&t(e,o),e}}();window.Promise||console.error("Veams-Http :: You should add a lightweight promise library like promise-polyfill!");var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t);var o={url:!1,type:"text",method:"GET",fetchOnInit:!1};this.options=Veams.helpers.extend(o,e),this.data={},this.initialize()}return o(t,[{key:"initialize",value:function(){if(this.options.fetchOnInit)return this.promiseRequest()}},{key:"promiseRequest",value:function(t){var e=this;return new Promise(function(s,o){var i=new XMLHttpRequest;i.open(t.method,t.url,!0),i.onload=function(){i.status>=200&&i.status<400?s(e.parser({request:i,type:t.type})):o({status:i.status,statusText:i.statusText})},i.onerror=function(){o({status:i.status,statusText:i.statusText})},i.send(t.data)})}},{key:"get",value:function(t){var e={};return e.data=t.data?t.data:null,t&&(this.options.method=e.method="GET",this.options.url=e.url=t.url||this.options.url,this.options.type=e.type=t.type||this.options.type),this.promiseRequest(e)}},{key:"post",value:function(t){var e={};return e.data=t.data?t.data:null,t&&(this.options.method=e.method="POST",this.options.url=e.url=t.url||this.options.url,this.options.type=e.type=t.type||this.options.type),this.promiseRequest(e)}},{key:"parser",value:function(t){return this.data=t.request.responseText,"json"===t.type&&(this.data=JSON.parse(this.data)),this.data}}]),t}();e["default"]=i,t.exports=e["default"]}])});
//# sourceMappingURL=http.min.js.map